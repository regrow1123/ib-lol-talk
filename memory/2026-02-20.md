# 2026-02-20

## ib-lol-talk 대규모 방향 전환

### 핵심 결정: 자연어 입력 방식으로 전환
- 기존 템플릿 선택지 시스템 폐기 → 자연어 텍스트 입력으로 전면 전환
- 이유: "템플릿 선택지로는 의도싸움이 제대로 안나온다. 지능이 떨어지는 선택지밖에 없다"
- 플레이어가 직접 의도를 텍스트로 입력 → LLM이 해석 → 결과 서술
- Interactive Fiction 본연의 재미 추구

### 아키텍처 확정
- **프론트**: 카카오톡 스타일 채팅 UI (노란 말풍선=나, 흰 말풍선=적/심판)
- **백엔드**: Node.js + Express 서버 (사용자가 관리)
- **LLM**: 서버 사이드 호출 (Anthropic Claude 예정)
- **하이브리드 방식 논의 중**: LLM=해석+서술, 서버코드=수치계산+규칙검증

### UI 완성 사항
- 카톡 스타일 채팅 레이아웃
- 협곡 미니맵 원본 사용 (사용자 제공 이미지)
- 챔피언: 리신 초상화 원형 클리핑 + 팀색 테두리
- 타워: LoL 미니맵 터렛 실루엣 (캔버스 직접 그리기)
- 미니언: 작은 점
- 플레이어 = 레드팀(우상), 적 = 블루팀(좌하)
- 📊 버튼으로 미니맵+상태 서랍 토글
- 빠른 입력 칩 (CS, Q, 후퇴, 압박, E, 부쉬)
- mock 서버 응답으로 UI 동작 확인 가능

### 50유닛 그리드 시스템 (유지)
- 60×24 그리드, 플레이어에게 비공개
- 사거리: AA=3, E=9, Q=24, R=8, 타워=15칸
- 미드 1차 타워 좌표: Red T1 (605,400), Blue T1 (400,605) on 1000x1000

### 다음 할 일
- 하이브리드 LLM 역할 구조 확정 (논의 진행 중)
- LLM 반환 행동 타입을 enum으로 제한할지 결정
- 조건부 반응(reactive) 허용 범위 결정
- Node.js 서버 구현
- LLM 프롬프트 설계

### GitHub
- repo: regrow1123/ib-lol-talk
- Vercel 배포: https://ib-lol-talk.vercel.app
- 기존 엔진 파일(actions, combat, ai, templates, minions, champion, engine) 전부 삭제됨
- 현재 프론트만 있고 서버는 아직 없음

### 저녁 세션 추가 사항
- 캔버스 렌더링 가시성 이슈 지속 — 유저가 "그래도 안보인다" 보고, 조사 중
- 타워 아이콘 스케일링 수정 커밋 (52f8dcb)
- 미니맵 좌표계 확정: MID_START=(740,260), MID_END=(260,740), 대각선 매핑
- 타워 위치 재확인: RED_T1=(660,340), BLUE_T1=(340,660) on 1000x1000
- 리신 Lv1+도란검: HP 645, 에너지 200, AD 79, 방어력 36, 마저 32
- 프론트 상태 객체 구조 확정 (turn, player/enemy stats, phase: skillup→play→waiting→gameover)
- 스킬 레벨업 오버레이, 게임오버 오버레이, 타이핑 인디케이터 구현 완료
